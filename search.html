<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Film Søk</title>
  <link rel="stylesheet" href="søk.css">
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <header>
    <nav>
      <a href="index.html">Wangen Score</a>
      <div class="andre_siden">
        <a href="search.html">Søk Opp</a>
        <a href="anbefaling">Wangen's Anbefalinger</a>
      </div>
    </nav>
  </header>
  <main>
    <div class="container">
      <section class="search">
        <h1>Søk etter en film eller TV-serie</h1>
        <div class="info">
          <input type="text" id="movieTitle" placeholder="Skriv inn tittel">
          <input type="number" id="movieYear" placeholder="Årstall (valgfritt)">
          <button onclick="searchMovie()">Søk</button>
        </div>
        <div id="result"></div>
      </section>
    </div>
  </main>

  <script>
    const apiKey = "e250dfcd";

    async function searchMovie() {
      const title = document.getElementById("movieTitle").value.trim();
      const year = document.getElementById("movieYear").value.trim();

      if (!title) {
        document.getElementById("result").innerHTML = "<p>Vennligst skriv inn en tittel.</p>";
        return;
      }

      let url = `https://www.omdbapi.com/?apikey=${apiKey}&t=${encodeURIComponent(title)}&plot=full`;
      if (year) {
        url += `&y=${encodeURIComponent(year)}`;
      }

      const response = await fetch(url);
      const data = await response.json();

      if (data.Response === "True") {
        document.getElementById("result").innerHTML = `
          <h2>${data.Title} (${data.Year})</h2>
          <img src="${data.Poster}" alt="Poster" style="max-width:200px;">
          <p><strong>Regissør:</strong> ${data.Director}</p>
          <p><strong>Skuespillere:</strong> ${data.Actors}</p>
          <p><strong>Plot:</strong> ${data.Plot}</p>
        `;
      } else {
        document.getElementById("result").innerHTML = `<p>Film ikke funnet.</p>`;
      }
    }
  </script>
</body>

</html>